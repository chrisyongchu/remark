/**
 * ----------------------------------------------------------------------------
 * Name: Remark Theme for HighQ Publisher 5.x, remark.min.js
 * Author: Christopher Yongchu, christopher.yongchu@highq.com
 */
window.themes={},window.themes.fn={getOptions:function(t){if("object"==typeof t)return t;if("string"!=typeof t)return{};try{return JSON.parse(t.replace(/'/g,'"').replace(";",""))}catch(t){return{}}}},function(t,a){t=t||{};var s="id",e="remark-layout-boxed",n="remark-pretty-panels",i="searchable",r='[id^="componentRender"]',o=".contact_comp",l=".form-group:not(:first)",c=".row",d=".setRowColClass",h='<div class="row"><div class="col-xs-12"><input type="text" class="filterPeopleList form-control margBott20"></div></div>',f=function(t,a){return this.init(t,a)};f.defaults={theme:"default",boxed:!1,panels:!1,searchable:!1,tabbable:!1},f.prototype={init:function(t,a){return this.setOptions(a).build(t).searchable(t).tabbable(t),this},setOptions:function(t){return this.options=a.extend(!0,{},f.defaults,t),this},build:function(t,a){return this.options.theme&&t.attr("data-remark-theme",this.options.theme),this.options.panels&&t.addClass(n),this.options.boxed&&t.addClass(e),this},searchable:function(t,s){return this.options.searchable&&a.ajax({context:document.body}).done(function(){t.find(o).each(function(){a(this).closest(r).addClass(i),a(this).children().first().after(h)})}),this},tabbable:function(){return this.options.tabbable&&a.ajax({context:document.body}).done(function(){a(d).find(l).each(function(){var t=a(this).closest(c).attr(s);a(this).children().first().append('<div class="tabbable-container">Tabbable: <button class="toggle-tabbable" for="'+t+'"><i class="fa fa-toggle-off"></i></button></div>')})}),this}},a.fn.remarkable=function(t){return new f(this,t)}}.apply(this,[window.themes,jQuery]),$js(function(){var t={DATA_REMARK_KEY:"data-remark",ID:"id",PANEL:"panel_",NAV_TABS:"nav-tabs",TAB:"tabpanel",TAB_LIST:"tablist",ROLE:"role"},a={ACTIVE:"active",FADE:"tab-pane fade",PANEL:"tab-content",HIDE:"hide",SHOW:"active in",TOGGLE_ON:"fa-toggle-on"},s={DATA_TAB_KEY:"[data-remark='nav-tabs']",CONTAINER:"<div class='tab-content'></div>",FORMGROUP:".form-group",MAINTITLE:".MainTitle",NAV_TABS:"<ul class='nav nav-tabs' data-remark='nav-tabs'></ul>",PEOPLE:".thumbOuter",PEOPLELIST:".filterPeopleList",ROWCLASSICON:".rowColClassico",REMARK:".remark-tabs",REMARK_PANEL:".remark-tabs .sortable-list",ROW:".row",SEARCHABLE:".searchable",TOGGLE_TABS:".toggle-tabbable",TABBABLE_ICON:".toggle-tabbable i",TEXTINPUT:'input[type="text"]',TITLE:".Titletxt"},e="click",n="keyup",i={CONTAINER:".tab-content",PANEL:".tab-content div",TITLE:".Titletxt"};jQuery.expr[":"].icontains=function(t,a,s){return jQuery(t).text().toUpperCase().indexOf(s[3].toUpperCase())>=0},$js(document).on(n,s.PEOPLELIST,function(t){var a=$js(this).val().trim(),e=$js(this).parents(s.SEARCHABLE).find(s.PEOPLE);if(""===a)return e.show(),!0;e.not(":icontains("+a+")").hide(),e.filter(":icontains("+a+")").show()}),$js(document).on(e,s.ROWCLASSICON,function(){$js(this).closest("li").find(s.TEXTINPUT).each(function(){var t=$js(this).parent().prev().find(s.TABBABLE_ICON);"remark-tabs"===$js(this).val()?(t.addClass(a.TOGGLE_ON),$js(this).attr("disabled",!0)):(t.removeClass(a.TOGGLE_ON),$js(this).attr("disabled",!1))})}),$js(document).on(e,s.TOGGLE_TABS,function(t){t.preventDefault();var e=$js(this).closest(s.FORMGROUP).find(s.TEXTINPUT);$js(this).children().toggleClass(a.TOGGLE_ON),"remark-tabs"===e.val()?(e.val(""),e.attr("disabled",!1)):(e.val("remark-tabs"),e.attr("disabled",!0))}),$js(s.REMARK).length&&($js(s.REMARK_PANEL).addClass(a.PANEL),$js(s.REMARK_PANEL).before("<ul class='nav nav-tabs' data-remark='nav-tabs'></ul>"),$js.ajax({context:document.body}).done(function(){var e=$js(s.REMARK);$js(s.REMARK_PANEL).find(s.TITLE).each(function(e){!function(e,n,i,r){var o=$js(s.DATA_TAB_KEY),l=$js(i).attr(t.ID),c="#"+$js(i).attr(t.ID),d=$js(r).attr(t.ID),h="#"+$js(r).attr(t.ID);r?$js(h).each(function(){$js(this).find(c).each(function(){$js(this).find(o).append('<li class="nav-item"><a class="nav-link" id="'+d+l+"tab"+n+'" data-toggle="tab" role="tab" href="#panel_'+d+l+n+'">'+$js(e).html()+"</a></li>")})}):o.append('<li class="nav-item"><a class="nav-link" id="tab_'+n+'" data-toggle="tab" role="tab" href="#panel_'+n+'">'+$js(e).html()+"</a></li>"),o.each(function(){$js(this).children().first().addClass(a.ACTIVE)})}(this,e,$js(this).closest(s.REMARK),$js(this).closest(s.ROW))}),function(e,n){var r=e.find(i.CONTAINER).children().first();n?(e.find(i.CONTAINER).children().each(function(e){var n=$js(this),i=n.closest(s.ROW).attr(t.ID),o=$js(this).closest(s.REMARK).attr(t.ID);n.attr(t.ID,t.PANEL+i+o+e),n.attr(t.ROLE,t.TAB).addClass(a.FADE),r.addClass(a.SHOW)}),$js(s.REMARK).each(function(){$js(this).find(i.CONTAINER).children().first().addClass(a.SHOW)})):(e.find(i.CONTAINER).children().each(function(s){var e=$js(this);e.attr(t.ID,t.PANEL+s),e.attr(t.ROLE,t.TAB).addClass(a.FADE)}),$js(s.DATA_TAB_KEY).each(function(){$js(this).next().children().first().addClass(a.SHOW)}))}(e,$js(s.REMARK).each(function(){$js(this).parent(s.COLUMN).attr(t.ID)}))}))});